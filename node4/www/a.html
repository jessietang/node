<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
用户： <input type="text" id="user"/><br/>
密码：<input type="password" id="pass"/><br/>
<input type="button" value="登录" id="btn1"/>

<script src="ajax.js"></script>
<script>
    window.onload = function(){
        var oUser = document.getElementById('user');
        var oPass = document.getElementById('pass');
        var oBtn1 = document.getElementById('btn1');

        oBtn1.onclick = function(){
            ajax({
                url: '/login',
                data: {user: oUser.value, pass: oPass.value},
                success: function(str){
                    var json = JSON.parse(str);
                    if (json.ok) {
                        alert('登录成功');
                    }else{
                        alert('登录失败：'+json.msg);
                    }
                },
                error: function(){
                    alert('通信失败');
                }
            });
        };
    };
</script>
</body>
</html>